import{r as a,j as e,n as m,U as k,B as C,ax as U,ah as j}from"./react-vendor-f6cd2f28.js";import{b as z,a as w}from"./index-93e771d7.js";import{aw as n}from"./vendor-662f24ba.js";const A=()=>{var y;const s=z(r=>r.auth.userInfo),[x,N]=a.useState((s==null?void 0:s.name)||""),[u,v]=a.useState((s==null?void 0:s.email)||""),[p,b]=a.useState(""),[d,g]=a.useState(""),[h,f]=a.useState(""),[o,i]=a.useState(!1),P=async r=>{var t,l;r.preventDefault(),i(!0);try{await w.put("/users/profile",{name:x,email:u}),n.fire("Success","Profile updated successfully","success")}catch(c){n.fire("Error",((l=(t=c.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to update profile","error")}finally{i(!1)}},S=async r=>{var t,l;if(r.preventDefault(),d!==h){n.fire("Error","Passwords do not match","error");return}i(!0);try{await w.put("/users/password",{currentPassword:p,newPassword:d}),n.fire("Success","Password changed successfully","success"),b(""),g(""),f("")}catch(c){n.fire("Error",((l=(t=c.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to change password","error")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 p-4 rounded-xl",children:e.jsx(m,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your account information and security"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-3xl font-black mb-4",children:(y=s==null?void 0:s.name)==null?void 0:y.charAt(0).toUpperCase()}),e.jsx("h3",{className:"text-xl font-black text-gray-900",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s==null?void 0:s.email})]}),(s==null?void 0:s.role)==="admin"&&e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-purple-700",children:[e.jsx(k,{size:20}),e.jsx("span",{className:"font-black text-sm",children:"Administrator"})]})})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-xl",children:e.jsx(m,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-gray-900",children:"Profile Information"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your personal details"})]})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(m,{className:"inline mr-2",size:16}),"Full Name"]}),e.jsx("input",{type:"text",value:x,onChange:r=>N(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(C,{className:"inline mr-2",size:16}),"Email Address"]}),e.jsx("input",{type:"email",value:u,onChange:r=>v(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all",required:!0})]}),e.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-black py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[e.jsx(U,{className:"inline mr-2",size:20}),o?"Saving...":"Save Changes"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-xl",children:e.jsx(j,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your password to keep your account secure"})]})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:p,onChange:r=>b(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:d,onChange:r=>g(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all",required:!0,minLength:6})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:h,onChange:r=>f(r.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all",required:!0,minLength:6})]}),e.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-green-600 hover:bg-green-700 text-white font-black py-3 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[e.jsx(j,{className:"inline mr-2",size:20}),o?"Updating...":"Update Password"]})]})]})]})]})]})})};export{A as default};
