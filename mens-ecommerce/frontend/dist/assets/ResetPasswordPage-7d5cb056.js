import{f as y,r as n,e as P,R as j,j as s}from"./react-vendor-fdd07533.js";import{I as p}from"./Input-fc81ecfd.js";import{B as v}from"./Button-30561157.js";import{a as b}from"./index-f5a8800a.js";import{aw as i}from"./vendor-28c12e7b.js";const q=()=>{const f=y(),[t,w]=n.useState(""),[l,x]=n.useState(""),[d,c]=n.useState(!1),o=P(),{email:a,code:r}=f.state||{};if(j.useEffect(()=>{(!a||!r)&&o("/forgot-password")},[a,r,o]),!a||!r)return null;const g=async e=>{var u,m;if(e.preventDefault(),t!==l){i.fire("Error","Passwords do not match","error");return}c(!0);try{await b.put("/auth/reset-password",{email:a,code:r,password:t}),i.fire("Success","Password reset successfully. Please login with your new password.","success"),o("/login")}catch(h){i.fire("Error",((m=(u=h.response)==null?void 0:u.data)==null?void 0:m.message)||"Failed to reset password","error")}c(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset Password"}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[s.jsx(p,{label:"New Password",type:"password",value:t,onChange:e=>w(e.target.value),required:!0}),s.jsx(p,{label:"Confirm New Password",type:"password",value:l,onChange:e=>x(e.target.value),required:!0}),s.jsx(v,{type:"submit",variant:"primary",className:"w-full",disabled:d,children:d?"Resetting...":"Reset Password"})]})]})})};export{q as default};
