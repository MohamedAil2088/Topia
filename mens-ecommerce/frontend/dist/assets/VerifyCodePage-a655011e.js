import{f as g,r as d,e as y,R as h,j as e}from"./react-vendor-f6cd2f28.js";import{I as w}from"./Input-b13869b6.js";import{B as j}from"./Button-85468c44.js";import{a as v}from"./index-93e771d7.js";import{aw as m}from"./vendor-662f24ba.js";const S=()=>{var n;const f=g(),[s,u]=d.useState(""),[o,i]=d.useState(!1),a=y(),t=(n=f.state)==null?void 0:n.email;if(h.useEffect(()=>{t||a("/forgot-password")},[t,a]),!t)return null;const p=async r=>{var c,l;r.preventDefault(),i(!0);try{await v.post("/auth/verify-code",{email:t,code:s}),m.fire("Code Verified","You can now reset your password","success"),a("/reset-password",{state:{email:t,code:s}})}catch(x){m.fire("Error",((l=(c=x.response)==null?void 0:c.data)==null?void 0:l.message)||"Invalid code","error")}i(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Code"}),e.jsxs("p",{className:"text-center text-gray-600",children:["Enter the 6-digit code sent to ",t]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsx(w,{label:"Verification Code",value:s,onChange:r=>u(r.target.value),required:!0}),e.jsx(j,{type:"submit",variant:"primary",className:"w-full",disabled:o,children:o?"Verifying...":"Verify"})]})]})})};export{S as default};
