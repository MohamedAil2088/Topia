import{j as e,Z as O,r as a,_,s as x,$ as P,a0 as f,a1 as q,F as D,a2 as K,a3 as W}from"./react-vendor-fdd07533.js";import{u as X,b as Z,f as I,a as J}from"./index-f5a8800a.js";import{P as Q}from"./ProductCard-9601fbf3.js";import"./vendor-28c12e7b.js";const V=()=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"aspect-[3/4] bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]}),e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-full mt-2"})]})]}),te=()=>{var L;const A=X(),{products:y,loading:$,error:z,page:Y,pages:g}=Z(r=>r.products),[m]=O(),[o,h]=a.useState(""),[j,b]=a.useState(""),[R,w]=a.useState(!1),[v,H]=a.useState([]),[i,N]=a.useState(""),[k,E]=a.useState(!1),[n,B]=a.useState({categories:!0,price:!0,sort:!0}),[t,p]=a.useState(()=>m.get("sort")||""),[l,C]=a.useState({min:0,max:1e4}),[d,c]=a.useState(1);a.useEffect(()=>{(async()=>{try{const{data:s}=await J.get("/categories");H(s.data||[])}catch(s){console.error("Failed to load categories",s)}})()},[]),a.useEffect(()=>{const r=m.get("sort"),s=m.get("search");r!==t&&p(r||""),s&&s!==o&&(h(s),b(s))},[m]),a.useEffect(()=>{const r=setTimeout(()=>{h(j),c(1)},500);return()=>clearTimeout(r)},[j]),a.useEffect(()=>{c(1)},[i,l,t]),a.useEffect(()=>{const r={keyword:o,page:d,sort:t,minPrice:l.min,maxPrice:l.max};i&&i.trim()!==""&&(r.category=i),A(I(r)),window.scrollTo({top:0,behavior:"smooth"})},[A,o,d,t,i,l]);const S=r=>{B(s=>({...s,[r]:!s[r]}))},u=r=>{r==="category"&&N(""),r==="price"&&C({min:0,max:1e4}),r==="sort"&&p(""),r==="search"&&(h(""),b(""))},F=()=>{h(""),b(""),N(""),C({min:0,max:1e4}),p(""),c(1)},M=i||l.max<1e4||t||o;return e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] min-h-screen transition-colors duration-300",children:[e.jsx("div",{className:"bg-white dark:bg-[#252525] border-b border-gray-200 dark:border-gray-800 py-12 pt-32 transition-colors duration-300",children:e.jsxs("div",{className:"w-full max-w-[1600px] mx-auto px-6 md:px-12 text-center",children:[e.jsxs("h1",{className:"text-5xl font-black font-display text-gray-900 dark:text-white mb-4 uppercase tracking-tighter",children:["ðŸ›ï¸ Topia ",e.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 bg-clip-text text-transparent",children:"Collection"})]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg max-w-2xl mx-auto",children:"Premium quality menswear designed for the modern gentleman. Discover the latest trends and timeless classics."})]})}),e.jsx("div",{className:"w-full max-w-[1600px] mx-auto px-6 md:px-12 py-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[R&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>w(!1)}),e.jsx("aside",{className:`
                        fixed top-0 left-0 bottom-0 z-50 w-80 bg-white dark:bg-[#252525] p-6 shadow-2xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:shadow-none lg:p-0 lg:w-80 lg:bg-transparent lg:z-0
                        ${R?"translate-x-0":"-translate-x-full"}
                    `,children:e.jsx("div",{className:"h-full overflow-y-auto lg:h-auto lg:overflow-visible",children:e.jsxs("div",{className:"bg-white dark:bg-[#252525] border border-gray-100 dark:border-gray-800 rounded-[2rem] p-8 shadow-sm lg:sticky lg:top-32",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h3",{className:"font-black text-gray-900 dark:text-white text-xl uppercase tracking-widest flex items-center gap-2",children:[e.jsx(_,{})," Filters"]}),e.jsx("button",{onClick:()=>w(!1),className:"lg:hidden p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(x,{size:24,className:"text-gray-500"})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl text-center",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Showing"}),e.jsxs("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:[y.length," Items"]})]}),e.jsxs("div",{className:"mb-8 border-b border-gray-100 dark:border-gray-700 pb-8 last:border-0 last:pb-0",children:[e.jsxs("button",{onClick:()=>S("categories"),className:"w-full flex justify-between items-center group",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm uppercase tracking-widest flex items-center gap-3 transition-colors",children:"Categories"}),n.categories?e.jsx(P,{}):e.jsx(f,{})]}),n.categories&&e.jsx("div",{className:"mt-6 space-y-3 animate-fade-in",children:["",...v.map(r=>r._id)].map((r,s)=>{var T;const U=r===""?"All Collection":(T=v.find(G=>G._id===r))==null?void 0:T.name;return e.jsx("button",{onClick:()=>N(r),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all border ${i===r?"bg-gray-900 text-white border-gray-900 shadow-lg translate-x-2":"bg-transparent border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-900 hover:translate-x-1"}`,children:U},s)})})]}),e.jsxs("div",{className:"mb-8 border-b border-gray-100 dark:border-gray-700 pb-8 last:border-0 last:pb-0",children:[e.jsxs("button",{onClick:()=>S("price"),className:"w-full flex justify-between items-center group",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm uppercase tracking-widest flex items-center gap-3 transition-colors",children:"Price Range"}),n.price?e.jsx(P,{}):e.jsx(f,{})]}),n.price&&e.jsxs("div",{className:"mt-6 space-y-6 animate-fade-in",children:[e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:l.max,onChange:r=>C({...l,max:Number(r.target.value)}),className:"w-full h-1.5 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gray-900"}),e.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[e.jsx("span",{className:"text-gray-400",children:"0"}),e.jsxs("span",{className:"bg-gray-900 text-white px-3 py-1 rounded-lg",children:[l.max," EGP"]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>S("sort"),className:"w-full flex justify-between items-center group",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm uppercase tracking-widest flex items-center gap-3 transition-colors",children:"Sort By"}),n.sort?e.jsx(P,{}):e.jsx(f,{})]}),n.sort&&e.jsxs("div",{className:"mt-6 animate-fade-in relative",children:[e.jsxs("button",{onClick:()=>E(!k),className:"w-full bg-white dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-800 p-4 rounded-xl text-sm font-bold flex justify-between items-center transition-all hover:border-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[t===""&&"âœ¨ Relevance",t==="-createdAt"&&"ðŸ”¥ Newest Arrivals",t==="priceAsc"&&"ðŸ’° Price: Low to High",t==="priceDesc"&&"ðŸ’Ž Price: High to Low"]}),e.jsx(f,{className:`transition-transform duration-300 ${k?"rotate-180":""}`})]}),k&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-[#1a1a1a] border border-gray-100 dark:border-gray-800 rounded-xl shadow-xl z-20 overflow-hidden animate-scale-up",children:[{label:"Relevance",value:"",icon:"âœ¨"},{label:"Newest Arrivals",value:"-createdAt",icon:"ðŸ”¥"},{label:"Price: Low to High",value:"priceAsc",icon:"ðŸ’°"},{label:"Price: High to Low",value:"priceDesc",icon:"ðŸ’Ž"}].map(r=>e.jsxs("button",{onClick:()=>{p(r.value),E(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-bold transition-all text-left
                                                            ${t===r.value?"bg-gray-50 text-primary-900 dark:bg-gray-800 dark:text-white":"text-gray-500 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{children:r.icon}),r.label,t===r.value&&e.jsx(q,{className:"ml-auto text-primary-600"})]},r.label))})]})]}),e.jsx("button",{onClick:F,className:"w-full py-4 text-xs font-black uppercase tracking-widest text-gray-400 bg-gray-50 border border-transparent rounded-xl hover:bg-red-50 hover:text-red-500 hover:border-red-100 transition-all",children:"Reset All Filters"})]})})}),e.jsxs("main",{className:"flex-grow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-10 items-center",children:[e.jsxs("button",{onClick:()=>w(!0),className:"flex lg:hidden items-center justify-center gap-2 h-14 w-full md:w-auto bg-white dark:bg-[#252525] border border-gray-200 dark:border-gray-800 rounded-xl px-8 font-bold dark:text-white shadow-sm hover:shadow-md transition-all",children:[e.jsx(_,{})," Filters"]}),e.jsxs("div",{className:"relative h-14 w-full",children:[e.jsx("input",{type:"text",placeholder:"Search for something specific...",value:j,onChange:r=>b(r.target.value),className:"w-full h-full bg-white dark:bg-[#252525] border border-gray-200 dark:border-gray-800 rounded-2xl pl-14 pr-6 font-medium dark:text-white outline-none focus:ring-2 focus:ring-gray-900 shadow-sm transition-all hover:shadow-md"}),e.jsx(D,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400",size:22})]})]}),M&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-10 animate-fade-in p-1",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mr-2",children:"Active Filters:"}),i&&e.jsxs("div",{className:"flex items-center gap-2 pl-4 pr-3 py-2 bg-gray-900 text-white rounded-xl text-sm font-bold shadow-lg shadow-gray-900/20",children:[e.jsx("span",{children:((L=v.find(r=>r._id===i))==null?void 0:L.name)||"Category"}),e.jsx("button",{onClick:()=>u("category"),className:"hover:text-gray-300 p-1",children:e.jsx(x,{size:16})})]}),l.max<1e4&&e.jsxs("div",{className:"flex items-center gap-2 pl-4 pr-3 py-2 bg-white border border-gray-200 text-gray-900 rounded-xl text-sm font-bold shadow-sm",children:[e.jsxs("span",{children:["Max: ",l.max," EGP"]}),e.jsx("button",{onClick:()=>u("price"),className:"hover:text-red-500 p-1",children:e.jsx(x,{size:16})})]}),t&&e.jsxs("div",{className:"flex items-center gap-2 pl-4 pr-3 py-2 bg-white border border-gray-200 text-gray-900 rounded-xl text-sm font-bold shadow-sm",children:[e.jsx("span",{children:"Sorted"}),e.jsx("button",{onClick:()=>u("sort"),className:"hover:text-red-500 p-1",children:e.jsx(x,{size:16})})]}),o&&e.jsxs("div",{className:"flex items-center gap-2 pl-4 pr-3 py-2 bg-purple-50 text-purple-700 border border-purple-100 rounded-xl text-sm font-bold shadow-sm",children:[e.jsxs("span",{children:['"',o,'"']}),e.jsx("button",{onClick:()=>u("search"),className:"hover:text-purple-900 p-1",children:e.jsx(x,{size:16})})]}),e.jsx("button",{onClick:F,className:"ml-auto text-xs font-black text-red-500 hover:text-red-700 hover:bg-red-50 px-4 py-2 rounded-lg transition-all uppercase tracking-widest",children:"Clear All"})]}),$?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-8",children:[...Array(6)].map((r,s)=>e.jsx(V,{},s))}):z?e.jsx("div",{className:"bg-red-50 p-16 rounded-[2.5rem] text-center border border-red-100 max-w-2xl mx-auto",children:e.jsx("p",{className:"text-red-600 font-bold text-lg",children:z})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-8 mb-16 animate-fade-in",children:y.map(r=>e.jsx(Q,{product:r},r._id))}),y.length===0&&e.jsxs("div",{className:"text-center py-32 bg-white dark:bg-[#252525] rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(D,{size:32,className:"text-gray-300"})}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:"No matches found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 max-w-md mx-auto text-lg",children:"We couldn't find any items matching your filters. Try adjusting your search criteria."}),e.jsx("button",{onClick:F,className:"px-8 py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-black transition-all shadow-xl shadow-gray-900/20 transform hover:-translate-y-1",children:"Reset Filters"})]}),g>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 py-8",children:[e.jsx("button",{onClick:()=>c(r=>Math.max(r-1,1)),disabled:d===1,className:"w-12 h-12 flex items-center justify-center rounded-xl border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(K,{className:"text-gray-600",size:24})}),e.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["Page ",e.jsx("span",{className:"text-gray-900 text-lg",children:d})," of ",g]}),e.jsx("button",{onClick:()=>c(r=>Math.min(r+1,g)),disabled:d===g,className:"w-12 h-12 flex items-center justify-center rounded-xl border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(W,{className:"text-gray-600",size:24})})]})]})]})]})})]})};export{te as default};
