import{e as y,f as j,r as u,j as e,L as x,ai as v}from"./react-vendor-fdd07533.js";import{u as N,b as C,a as p}from"./index-f5a8800a.js";import{ax as P,ay as k,az as r,aA as B,aw as q}from"./vendor-28c12e7b.js";import{I as t}from"./Input-fc81ecfd.js";import{B as S}from"./Button-30561157.js";const g=v(q),$=()=>{N();const i=y(),c=j(),{userInfo:d}=C(a=>a.auth),l=c.search?c.search.split("=")[1]:"/",[f,n]=u.useState(!1);u.useEffect(()=>{d&&i(l)},[i,d,l]);const s=P({initialValues:{name:"",email:"",phone:"",password:"",confirmPassword:""},validationSchema:k({name:r().min(2,"Name is too short").required("Full Name is required"),email:r().email("Invalid email address").required("Email is required").test("checkEmailUnique","This email is already registered",async a=>{if(!a||!a.includes("@"))return!0;try{const{data:o}=await p.post("/auth/check-email",{email:a});return!o.exists}catch{return!0}}),phone:r().matches(/^01[0125][0-9]{8}$/,"Must be a valid Egyptian phone number (01xxxxxxxxx)").required("Phone Number is required"),password:r().min(8,"Password must be at least 8 characters").matches(/[a-z]/,"Must contain at least one lowercase letter").matches(/[A-Z]/,"Must contain at least one uppercase letter").matches(/[0-9]/,"Must contain at least one number").matches(/[!@#$%^&*(),.?":{}|<>]/,"Must contain at least one special character").required("Password is required"),confirmPassword:r().oneOf([B("password"),void 0],"Passwords must match").required("Confirm Password is required")}),onSubmit:async a=>{var m,h;const{confirmPassword:o,...w}=a;n(!0);try{await p.post("/auth/register",w),n(!1),g.fire({icon:"success",title:"Registration Successful! ðŸŽ‰",text:"Your account has been created. Please log in.",confirmButtonColor:"#0f172a",timer:3e3}).then(()=>{i("/login")})}catch(b){n(!1),g.fire({icon:"error",title:"Registration Failed",text:((h=(m=b.response)==null?void 0:m.data)==null?void 0:h.message)||"Something went wrong"})}}});return e.jsxs("div",{className:"min-h-screen w-full flex bg-white",children:[e.jsxs("div",{className:"hidden lg:flex w-1/2 bg-gray-900 relative overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?q=80&w=1950&auto=format&fit=crop",alt:"Fashion Store",className:"absolute inset-0 w-full h-full object-cover opacity-70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-16 flex flex-col justify-end h-full",children:[e.jsxs("h2",{className:"text-4xl font-black font-display text-white mb-6 leading-tight",children:["Join The ",e.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-purple-400 bg-clip-text text-transparent",children:"Elite"}),e.jsx("br",{}),"Circle Today."]}),e.jsxs("ul",{className:"text-gray-300 space-y-3 text-lg",children:[e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-400 text-sm",children:"âœ“"}),"Exclusive early access to drops"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-400 text-sm",children:"âœ“"}),"Member-only rewards & discounts"]}),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-400 text-sm",children:"âœ“"}),"Track your custom orders"]})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative overflow-hidden overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-lg relative z-10 py-12",children:[e.jsxs("div",{className:"text-center mb-10 lg:text-left",children:[e.jsxs(x,{to:"/",className:"inline-block text-4xl font-black font-display tracking-tighter text-gray-900 group mb-8",children:["TOPIA",e.jsx("span",{className:"text-primary-600 group-hover:animate-pulse",children:"."})]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight mb-2",children:"Create Account"}),e.jsx("p",{className:"text-gray-500",children:"Join us for a better shopping experience."})]}),e.jsxs("div",{className:"bg-white p-0 rounded-none shadow-none border-0",children:[e.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx(t,{label:"Full Name",name:"name",placeholder:"John Doe",value:s.values.name,onChange:s.handleChange,onBlur:s.handleBlur,className:"bg-gray-50 border-gray-100 focus:bg-white"}),s.touched.name&&s.errors.name?e.jsx("div",{className:"text-red-500 text-xs mt-1 ml-1",children:s.errors.name}):null]}),e.jsxs("div",{children:[e.jsx(t,{label:"Phone Number",name:"phone",placeholder:"01xxxxxxxxx",value:s.values.phone,onChange:s.handleChange,onBlur:s.handleBlur,className:"bg-gray-50 border-gray-100 focus:bg-white"}),s.touched.phone&&s.errors.phone?e.jsx("div",{className:"text-red-500 text-xs mt-1 ml-1",children:s.errors.phone}):null]})]}),e.jsxs("div",{children:[e.jsx(t,{label:"Email Address",type:"email",name:"email",placeholder:"name@example.com",value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur,autoComplete:"email",className:"bg-gray-50 border-gray-100 focus:bg-white"}),s.touched.email&&s.errors.email?e.jsx("div",{className:"text-red-500 text-xs mt-1 ml-1",children:s.errors.email}):null]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx(t,{label:"Password",type:"password",name:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,autoComplete:"new-password",className:"bg-gray-50 border-gray-100 focus:bg-white"}),s.touched.password&&s.errors.password?e.jsx("div",{className:"text-red-500 text-xs mt-1 ml-1",children:s.errors.password}):null]}),e.jsxs("div",{children:[e.jsx(t,{label:"Confirm Password",type:"password",name:"confirmPassword",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:s.values.confirmPassword,onChange:s.handleChange,onBlur:s.handleBlur,autoComplete:"new-password",className:"bg-gray-50 border-gray-100 focus:bg-white"}),s.touched.confirmPassword&&s.errors.confirmPassword?e.jsx("div",{className:"text-red-500 text-xs mt-1 ml-1",children:s.errors.confirmPassword}):null]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(S,{type:"submit",fullWidth:!0,isLoading:f,size:"lg",className:"h-14 rounded-xl shadow-xl shadow-primary-900/10 hover:shadow-primary-900/20 text-base font-bold tracking-wide",children:"Create Account"})})]}),e.jsx("div",{className:"mt-8 text-center lg:text-left",children:e.jsxs("p",{className:"text-gray-500 text-sm font-medium",children:["Already have an account?"," ",e.jsx(x,{to:l?`/login?redirect=${l}`:"/login",className:"text-primary-900 font-bold hover:text-primary-700 transition-colors",children:"Sign in here"})]})})]})]})})]})};export{$ as default};
