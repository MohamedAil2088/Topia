import{r as o,j as e,a0 as v,W as w,F as N,_ as C}from"./react-vendor-fdd07533.js";import{a as S,L}from"./index-f5a8800a.js";import"./vendor-28c12e7b.js";const f=({value:l,onChange:x,options:m,icon:g,placeholder:p})=>{const[c,i]=o.useState(!1),u=o.useRef(null),a=m.find(r=>r.value===l);return o.useEffect(()=>{const r=t=>{u.current&&!u.current.contains(t.target)&&i(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),e.jsxs("div",{className:"relative",ref:u,children:[e.jsxs("button",{type:"button",onClick:()=>i(!c),style:{width:"100%",paddingLeft:g?"3.5rem":"1.25rem",paddingRight:"3rem",paddingTop:"0.875rem",paddingBottom:"0.875rem",border:"2px solid #e0e7ff",borderRadius:"1rem",outline:"none",fontWeight:"600",fontSize:"0.95rem",backgroundColor:"white",cursor:"pointer",boxShadow:c?"0 0 0 4px rgba(99,102,241,0.1)":"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.2s ease",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",borderColor:c?"#6366f1":"#e0e7ff"},onMouseEnter:r=>{c||(r.currentTarget.style.borderColor="#818cf8",r.currentTarget.style.boxShadow="0 4px 12px rgba(99,102,241,0.15)")},onMouseLeave:r=>{c||(r.currentTarget.style.borderColor="#e0e7ff",r.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)")},children:[e.jsxs("span",{className:"flex items-center gap-2",children:[(a==null?void 0:a.icon)&&e.jsx("span",{children:a.icon}),(a==null?void 0:a.label)||p]}),e.jsx(v,{size:20,className:"text-indigo-600 transition-transform duration-200",style:{transform:c?"rotate(180deg)":"rotate(0deg)"}})]}),g&&e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g}),c&&e.jsx("div",{style:{position:"absolute",top:"calc(100% + 0.5rem)",left:0,right:0,backgroundColor:"white",border:"2px solid #e0e7ff",borderRadius:"1rem",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",zIndex:50,overflow:"hidden",animation:"slideDown 0.2s ease-out"},children:m.map(r=>e.jsxs("button",{type:"button",onClick:()=>{x(r.value),i(!1)},style:{width:"100%",padding:"0.875rem 1.25rem",textAlign:"left",fontSize:"0.95rem",fontWeight:"600",backgroundColor:l===r.value?"#6366f1":"white",color:l===r.value?"white":"#1f2937",border:"none",cursor:"pointer",transition:"all 0.15s ease",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:t=>{l!==r.value&&(t.currentTarget.style.background="linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",t.currentTarget.style.color="white",t.currentTarget.style.paddingLeft="1.5rem")},onMouseLeave:t=>{l!==r.value&&(t.currentTarget.style.background="white",t.currentTarget.style.color="#1f2937",t.currentTarget.style.paddingLeft="1.25rem")},children:[r.icon&&e.jsx("span",{children:r.icon}),r.label,l===r.value&&e.jsx("span",{className:"ml-auto text-white",children:"âœ“"})]},r.value))}),e.jsx("style",{children:`
                @keyframes slideDown {
                    from {
                        opacity: 0;
                        transform: translateY(-10px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            `})]})},E=()=>{const[l,x]=o.useState([]),[m,g]=o.useState([]),[p,c]=o.useState(!0),[i,u]=o.useState(""),[a,r]=o.useState("all"),[t,h]=o.useState("newest");o.useEffect(()=>{b()},[]),o.useEffect(()=>{y()},[l,i,a,t]);const b=async()=>{try{const{data:s}=await S.get("/designs");console.log("Fetched designs:",s),s.success&&s.data?x(s.data):x([])}catch(s){console.error("Failed to fetch designs",s),x([])}finally{c(!1)}},y=()=>{let s=[...l];i&&(s=s.filter(n=>n.name.toLowerCase().includes(i.toLowerCase())||n.description.toLowerCase().includes(i.toLowerCase())||n.tags.some(d=>d.toLowerCase().includes(i.toLowerCase())))),a!=="all"&&(s=s.filter(n=>n.category===a)),t==="newest"?s.reverse():t==="price-low"?s.sort((n,d)=>n.price-d.price):t==="price-high"&&s.sort((n,d)=>d.price-n.price),g(s)},j=["all",...Array.from(new Set(l.map(s=>s.category)))];return p?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(L,{size:"lg"})}):e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] min-h-screen transition-colors duration-300 pt-32",children:[e.jsxs(w,{children:[e.jsx("title",{children:"Design Gallery | Topia"}),e.jsx("meta",{name:"description",content:"Explore our exclusive collection of premium designs."})]}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-5xl font-black text-gray-900 mb-4",children:["ðŸŽ¨ Design ",e.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 bg-clip-text text-transparent",children:"Gallery"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Explore our exclusive collection of premium designs for your custom orders"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search designs...",value:i,onChange:s=>u(s.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-600 outline-none transition-all"})]}),e.jsx(f,{value:a,onChange:s=>r(s),options:j.map(s=>({value:s,label:s==="all"?"All Categories":s,icon:s==="all"?"ðŸ“‚":"ðŸŽ¨"})),icon:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-2 rounded-lg",children:e.jsx(C,{className:"text-white",size:18})})}),e.jsx(f,{value:t,onChange:s=>h(s),options:[{value:"newest",label:"Newest First",icon:"ðŸ†•"},{value:"price-low",label:"Price: Low to High",icon:"ðŸ’°"},{value:"price-high",label:"Price: High to Low",icon:"ðŸ’Ž"}]})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 font-medium",children:["Showing ",e.jsx("span",{className:"font-black text-primary-600",children:m.length})," of ",l.length," designs"]})]}),m.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ¨"}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:"No Designs Found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search query"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 group",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full",children:e.jsx("span",{className:"text-xs font-black text-gray-900",children:s.category})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 mb-2 line-clamp-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 min-h-[2.5rem]",children:s.description}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.slice(0,3).map((n,d)=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-bold rounded-lg",children:["#",n]},d))}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Starting at"}),e.jsxs("p",{className:"text-2xl font-black text-primary-600",children:[s.price," ",e.jsx("span",{className:"text-sm",children:"EGP"})]})]})]})]},s._id))})]})]})};export{E as default};
