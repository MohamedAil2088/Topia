import{r as s,j as e,aa as E,L as n,n as H,a3 as c,o as T,aj as U,z as P,a1 as V,aq as _,ar as $,ae as O}from"./react-vendor-fdd07533.js";import{b as R,a as d,L as Z}from"./index-f5a8800a.js";import{aw as a}from"./vendor-28c12e7b.js";const K=()=>{const{userInfo:r}=R(t=>t.auth),[v,z]=s.useState([]),[B,x]=s.useState(!0),[m,i]=s.useState(!1),[w,p]=s.useState(""),[N,h]=s.useState(""),[k,u]=s.useState(""),[C,g]=s.useState(""),[q,S]=s.useState("Egypt"),[A,f]=s.useState(!1),[l,F]=s.useState(null);s.useEffect(()=>{y()},[]);const y=async()=>{x(!0);try{const{data:t}=await d.get("/users/address");z(t.data),x(!1)}catch(t){console.error(t),x(!1)}},L=async t=>{var b,j;t.preventDefault();try{const o={street:w,city:N,state:k,zipCode:C,country:q,isDefault:A};l?(await d.put(`/users/address/${l}`,o),a.fire({icon:"success",title:"Address Updated",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})):(await d.post("/users/address",o),a.fire({icon:"success",title:"Address Added",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})),D(),y()}catch(o){a.fire({icon:"error",title:"Error",text:((j=(b=o.response)==null?void 0:b.data)==null?void 0:j.message)||"Something went wrong"})}},M=async t=>{if((await a.fire({title:"Delete Address?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#000",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await d.delete(`/users/address/${t}`),y(),a.fire({icon:"success",title:"Deleted!",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}catch{a.fire({icon:"error",title:"Error",text:"Failed to delete address"})}},Y=t=>{p(t.street),h(t.city),u(t.state),g(t.zipCode),S(t.country),f(t.isDefault),F(t._id),i(!0),window.scrollTo({top:0,behavior:"smooth"})},D=()=>{p(""),h(""),u(""),g(""),S("Egypt"),f(!1),F(null),i(!1)};return e.jsx("div",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-12 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black font-display text-primary-900 tracking-tight",children:"Saved Addresses"}),e.jsx("p",{className:"text-gray-500 font-medium mt-1",children:"Manage your shipping destinations for faster checkout"})]}),!m&&e.jsxs("button",{onClick:()=>i(!0),className:"bg-primary-900 text-white px-8 py-4 rounded-2xl font-black flex items-center gap-3 hover:bg-black transition-all shadow-xl shadow-primary-900/20 active:scale-95",children:[e.jsx(E,{})," Add New Address"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden sticky top-32",children:[e.jsx("div",{className:"p-6 border-b border-gray-50 bg-gray-50/50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary-900 text-white flex items-center justify-center text-xl font-black shadow-lg shadow-primary-900/20",children:r==null?void 0:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"truncate",children:[e.jsx("p",{className:"text-sm font-black text-gray-900 truncate",children:r==null?void 0:r.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:"Verified Member"})]})]})}),e.jsxs("div",{className:"py-4",children:[e.jsxs(n,{to:"/profile",className:"flex items-center justify-between px-6 py-4 text-gray-500 hover:text-primary-900 hover:bg-gray-50 transition-all group",children:[e.jsxs("span",{className:"flex items-center gap-3 font-bold",children:[e.jsx(H,{})," Profile Overview"]}),e.jsx(c,{className:"opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]}),e.jsxs(n,{to:"/profile/orders",className:"flex items-center justify-between px-6 py-4 text-gray-500 hover:text-primary-900 hover:bg-gray-50 transition-all group",children:[e.jsxs("span",{className:"flex items-center gap-3 font-bold",children:[e.jsx(T,{})," My Orders"]}),e.jsx(c,{className:"opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]}),e.jsxs(n,{to:"/profile/history",className:"flex items-center justify-between px-6 py-4 text-gray-500 hover:text-primary-900 hover:bg-gray-50 transition-all group",children:[e.jsxs("span",{className:"flex items-center gap-3 font-bold",children:[e.jsx(U,{})," Purchase History"]}),e.jsx(c,{className:"opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1"})]}),e.jsxs(n,{to:"/profile/addresses",className:"flex items-center justify-between px-6 py-4 text-primary-700 bg-primary-50/50 border-r-4 border-primary-900 transition-all group",children:[e.jsxs("span",{className:"flex items-center gap-3 font-bold",children:[e.jsx(P,{})," Saved Addresses"]}),e.jsx(c,{className:"transition-transform group-hover:translate-x-1"})]})]})]})}),e.jsxs("div",{className:"lg:w-3/4 space-y-8",children:[m&&e.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-xl overflow-hidden animate-fade-in",children:[e.jsxs("div",{className:"p-8 md:p-10 border-b border-gray-50 flex justify-between items-center",children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900",children:l?"Edit Address":"New Delivery Address"}),e.jsx("button",{onClick:D,className:"text-gray-400 hover:text-red-500 transition-colors",children:"Cancel"})]}),e.jsxs("form",{onSubmit:L,className:"p-8 md:p-10 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Street Address"}),e.jsx("input",{required:!0,value:w,onChange:t=>p(t.target.value),className:"w-full h-14 px-6 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-primary-900 transition-all font-bold",placeholder:"e.g. 123 Fashion Ave"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"City"}),e.jsx("input",{required:!0,value:N,onChange:t=>h(t.target.value),className:"w-full h-14 px-6 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-primary-900 transition-all font-bold",placeholder:"e.g. Cairo"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"State / Province"}),e.jsx("input",{required:!0,value:k,onChange:t=>u(t.target.value),className:"w-full h-14 px-6 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-primary-900 transition-all font-bold",placeholder:"e.g. Giza"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ZIP / Postal Code"}),e.jsx("input",{required:!0,value:C,onChange:t=>g(t.target.value),className:"w-full h-14 px-6 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-primary-900 transition-all font-bold",placeholder:"e.g. 12345"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",id:"isDefault",checked:A,onChange:t=>f(t.target.checked),className:"w-6 h-6 rounded-lg text-primary-900 focus:ring-primary-900 border-gray-200"}),e.jsx("label",{htmlFor:"isDefault",className:"text-sm font-bold text-gray-700",children:"Set as default delivery address"})]}),e.jsx("button",{type:"submit",className:"w-full h-16 bg-primary-900 text-white rounded-[1.5rem] font-black uppercase tracking-widest shadow-xl shadow-primary-900/20 hover:bg-black transition-all active:scale-95",children:l?"Save Architecture":"Confirm Destination"})]})]}),B?e.jsxs("div",{className:"p-32 flex flex-col items-center justify-center bg-white rounded-[2.5rem] border border-gray-100 shadow-sm",children:[e.jsx(Z,{}),e.jsx("p",{className:"mt-8 text-gray-400 font-bold animate-pulse uppercase tracking-[0.3em] text-[10px]",children:"Accessing Vault..."})]}):v.length===0?!m&&e.jsxs("div",{className:"text-center py-32 bg-white rounded-[3rem] border border-gray-100 shadow-sm px-10",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-50 rounded-[2.5rem] flex items-center justify-center mx-auto mb-10 text-gray-200 transform -rotate-12",children:e.jsx(P,{size:64})}),e.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-4 tracking-tight",children:"Empty Vault"}),e.jsx("p",{className:"text-gray-500 mb-12 max-w-sm mx-auto font-medium leading-relaxed",children:"You haven't saved any delivery destinations. Add your first address to accelerate your next checkout."}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-3 bg-primary-900 text-white px-10 py-5 rounded-3xl font-black uppercase tracking-widest text-xs hover:bg-black hover:scale-105 transition-all shadow-xl shadow-primary-900/20 active:scale-95",children:["Add First Address ",e.jsx(E,{})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in",children:v.map(t=>e.jsxs("div",{className:`group relative bg-white rounded-[2.5rem] border p-8 transition-all duration-500 hover:shadow-2xl ${t.isDefault?"border-primary-900 shadow-lg":"border-gray-100 hover:border-primary-100"}`,children:[t.isDefault&&e.jsx("div",{className:"absolute top-8 right-8 bg-primary-900 text-white p-2 rounded-xl shadow-lg",children:e.jsx(V,{})}),e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gray-50 flex items-center justify-center text-primary-900 mb-6 group-hover:bg-primary-900 group-hover:text-white transition-colors duration-500",children:e.jsx(_,{size:24})}),e.jsxs("div",{className:"space-y-2 mb-8",children:[e.jsx("h4",{className:"text-lg font-black text-gray-900 break-words",children:t.street}),e.jsxs("p",{className:"text-gray-500 font-bold uppercase tracking-tighter text-xs",children:[t.city,", ",t.state," ",t.zipCode]}),e.jsx("p",{className:"text-gray-400 text-[10px] font-black uppercase tracking-widest",children:t.country})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-6 border-t border-gray-50",children:[e.jsxs("button",{onClick:()=>Y(t),className:"flex-1 h-12 rounded-xl bg-gray-50 text-gray-600 font-black text-[10px] uppercase tracking-widest hover:bg-primary-900 hover:text-white transition-all flex items-center justify-center gap-2",children:[e.jsx($,{})," Edit"]}),e.jsx("button",{onClick:()=>M(t._id),className:"w-12 h-12 rounded-xl bg-red-50 text-red-500 hover:bg-red-500 hover:text-white transition-all flex items-center justify-center",children:e.jsx(O,{})})]})]},t._id))}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-950 to-gray-900 rounded-[3rem] p-10 md:p-14 text-white relative overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-3xl font-black mb-6 tracking-tight",children:"Elite Shipping Pipeline"}),e.jsx("p",{className:"text-gray-400 font-medium leading-relaxed max-w-lg",children:"Your addresses are encrypted and secured. Having multiple addresses allows you to switch between home, office, and travel destinations with a single tap during checkout."})]}),e.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-accent-500/10 rounded-full blur-[120px]"})]})]})]})]})})};export{K as default};
