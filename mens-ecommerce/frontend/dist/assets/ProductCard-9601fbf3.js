import{r as g,j as e,s as y,L as x,a1 as u,a4 as k,R as j,k as v,a5 as N,h as C,Y as S}from"./react-vendor-fdd07533.js";import{u as p,c as w,b as z,d as T,r as A}from"./index-f5a8800a.js";import{aw as b}from"./vendor-28c12e7b.js";const F=({product:t,onClose:i})=>{var d,f;const h=p(),[l,c]=g.useState(""),[r,m]=g.useState(""),[o,n]=g.useState(!1);if(!t)return null;const s=()=>{if(!l||!r){alert("Please select size and color");return}h(w({...t,qty:1,size:l,color:r})),n(!0),setTimeout(()=>n(!1),2e3)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"relative w-full max-w-4xl bg-white dark:bg-[#252525] rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row max-h-[90vh] md:max-h-[600px] animate-scale-up",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 dark:bg-black/50 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:e.jsx(y,{size:24,className:"text-gray-900 dark:text-white"})}),e.jsx("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-gray-100 relative group",children:e.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"w-full md:w-1/2 p-8 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(x,{to:`/product/${t._id}`,className:"hover:underline",children:e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 font-display uppercase tracking-tight",children:t.name})}),e.jsxs("p",{className:"text-xl font-bold text-gray-500 dark:text-gray-400",children:[t.price," EGP"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-8 leading-relaxed line-clamp-3",children:t.description}),e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white uppercase tracking-widest block mb-3",children:"Select Size"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(d=t.sizes)==null?void 0:d.map(a=>e.jsx("button",{onClick:()=>c(a),className:`w-12 h-12 flex items-center justify-center rounded-xl text-sm font-bold border-2 transition-all
                                            ${l===a?"border-gray-900 dark:border-white bg-gray-900 dark:bg-white text-white dark:text-gray-900":"border-gray-200 dark:border-gray-700 hover:border-gray-900 dark:hover:border-white text-gray-500 dark:text-gray-400"}`,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white uppercase tracking-widest block mb-3",children:"Select Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(f=t.colors)==null?void 0:f.map(a=>e.jsx("button",{onClick:()=>m(a),className:`px-4 py-2 rounded-xl text-sm font-bold border-2 transition-all capitalize
                                            ${r===a?"border-gray-900 dark:border-white bg-gray-900 dark:bg-white text-white dark:text-gray-900":"border-gray-200 dark:border-gray-700 hover:border-gray-900 dark:hover:border-white text-gray-500 dark:text-gray-400"}`,children:a},a))})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:s,disabled:o,className:`flex-1 py-4 rounded-xl font-black text-sm uppercase tracking-widest transition-all flex items-center justify-center gap-2
                                ${o?"bg-green-500 text-white":"bg-primary-900 text-white hover:bg-black shadow-lg shadow-primary-900/20"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(u,{size:20})," Added"]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{size:18})," Add to Cart"]})}),e.jsx(x,{to:`/product/${t._id}`,className:"px-6 py-4 border-2 border-gray-200 dark:border-gray-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:border-gray-900 dark:hover:border-white transition-all text-gray-900 dark:text-white",children:"Full Details"})]})]})]})})},$=({product:t})=>{var n;const i=p(),{items:h}=z(s=>s.wishlist),[l,c]=j.useState(!1),r=h.some(s=>s&&s._id===t._id),m=s=>{s.preventDefault(),i(w({_id:t._id,name:t.name,image:t.images&&t.images.length>0?t.images[0]:"",price:t.price,stock:t.stock,qty:1})),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"Added to cart"})},o=s=>{s.preventDefault(),i(T({_id:t._id,name:t.name,description:t.description,price:t.price,images:t.images,category:t.category,stock:t.stock})),r?(i(A(t._id)),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"info",title:"Removed from wishlist"})):b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}).fire({icon:"success",title:"Added to wishlist ❤️"})};return e.jsxs("div",{className:"group relative bg-white dark:bg-[#252525] rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-800",children:[e.jsxs(x,{to:`/product/${t._id}`,className:"block relative aspect-[3/4] overflow-hidden bg-gray-100",children:[t.stock<=5&&t.stock>0&&e.jsxs("span",{className:"absolute top-3 left-3 bg-red-600 text-white text-[10px] font-black px-2 py-1.5 rounded-lg uppercase tracking-tighter z-10 shadow-lg animate-pulse",children:["Only ",t.stock," Left! ⚠️"]}),t.stock===0&&e.jsx("span",{className:"absolute top-3 left-3 bg-gray-900 text-white text-[10px] font-black px-2 py-1.5 rounded-lg uppercase tracking-tighter z-10 shadow-lg",children:"Out of Stock"}),e.jsx("img",{src:t.images&&t.images.length>0?t.images[0]:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23ddd" width="300" height="300"/%3E%3Ctext fill="%23aaa" font-family="sans-serif" font-size="24" x="50%25" y="50%25" text-anchor="middle" dominant-baseline="middle"%3ENo Image%3C/text%3E%3C/svg%3E',alt:t.name,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-white/90 backdrop-blur-sm flex justify-center gap-3",children:[e.jsx("button",{onClick:m,className:"w-10 h-10 rounded-full bg-primary-900 text-white flex items-center justify-center hover:bg-black transition-colors shadow-lg",title:"Add to Cart",children:e.jsx(v,{size:18})}),e.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),c(!0)},className:"w-10 h-10 rounded-full bg-white text-primary-900 border border-gray-200 flex items-center justify-center hover:bg-gray-50 transition-colors shadow-lg",title:"Quick View",children:e.jsx(N,{size:18})}),e.jsx("button",{onClick:o,className:`w-10 h-10 rounded-full border flex items-center justify-center transition-all shadow-lg ${r?"bg-red-500 text-white border-red-500 animate-bounce-short":"bg-white text-primary-900 border-gray-200 hover:bg-gray-50"}`,title:r?"In Wishlist":"Add to Wishlist",children:e.jsx(C,{size:18,className:r?"fill-current":""})})]})]}),l&&e.jsx(F,{product:t,onClose:()=>c(!1)}),e.jsxs("div",{className:"p-4",children:[e.jsxs(x,{to:`/product/${t._id}`,className:"block",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:((n=t.category)==null?void 0:n.name)||"Topia Collection"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 truncate group-hover:text-accent-600 transition-colors",children:t.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"font-bold text-primary-900 text-lg",children:[t.price," EGP"]}),e.jsx("div",{className:"flex gap-1 text-[8px] text-accent-500",children:[1,2,3,4,5].map(s=>e.jsx(S,{className:"fill-current"},s))})]})]})]})};export{$ as P};
