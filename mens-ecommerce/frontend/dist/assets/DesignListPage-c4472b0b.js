import{r,j as e,L as i,aa as v,ay as w,aE as D,ae as k}from"./react-vendor-fdd07533.js";import{a as n,L as C}from"./index-f5a8800a.js";import{aw as c}from"./vendor-28c12e7b.js";const A=()=>{var m;const[o,p]=r.useState([]),[a,u]=r.useState(null),[b,f]=r.useState(!0),[l,j]=r.useState("all");r.useEffect(()=>{d(),x()},[l]);const d=async()=>{try{const s=l==="active"?"true":l==="inactive"?"false":"",{data:t}=await n.get(`/designs${s?`?active=${s}`:""}`);p(t.data||[])}catch(s){console.error("Error fetching designs:",s)}finally{f(!1)}},x=async()=>{try{const{data:s}=await n.get("/designs/admin/stats");u(s.data)}catch(s){console.error("Error fetching stats:",s)}},N=async(s,t)=>{var g,h;if((await c.fire({title:"Are you sure?",text:`Delete design "${t}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await n.delete(`/designs/${s}`),c.fire("Deleted!","Design has been deleted.","success"),d(),x()}catch(y){c.fire("Error!",((h=(g=y.response)==null?void 0:g.data)==null?void 0:h.message)||"Failed to delete design","error")}};return b?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(C,{size:"lg"})}):e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Design Templates ðŸŽ¨"}),e.jsx("p",{className:"text-gray-600",children:"Manage design templates for custom orders"})]}),e.jsxs(i,{to:"/admin/designs/create",className:"flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 transition-colors",children:[e.jsx(v,{}),"Add New Design"]})]})}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white",children:[e.jsx("p",{className:"text-purple-100 text-sm mb-2",children:"Total Designs"}),e.jsx("p",{className:"text-4xl font-black",children:a.totalDesigns})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white",children:[e.jsx("p",{className:"text-green-100 text-sm mb-2",children:"Active"}),e.jsx("p",{className:"text-4xl font-black",children:a.activeDesigns})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-2xl p-6 text-white",children:[e.jsx("p",{className:"text-gray-100 text-sm mb-2",children:"Inactive"}),e.jsx("p",{className:"text-4xl font-black",children:a.inactiveDesigns})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white",children:[e.jsx("p",{className:"text-orange-100 text-sm mb-2",children:"Categories"}),e.jsx("p",{className:"text-4xl font-black",children:((m=a.byCategory)==null?void 0:m.length)||0})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-2",children:["all","active","inactive"].map(s=>e.jsx("button",{onClick:()=>j(s),className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${l===s?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:s.toUpperCase()},s))})}),o.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-200",children:[e.jsx(w,{className:"mx-auto text-gray-300 mb-4",size:64}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No designs found"}),e.jsx(i,{to:"/admin/designs/create",className:"inline-block mt-4 text-purple-600 font-bold hover:underline",children:"Add Your First Design"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(s=>{var t;return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 relative group",children:[e.jsx("img",{src:`http://localhost:5000${s.image}`,alt:s.name,className:"w-full h-full object-cover"}),!s.isActive&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white px-4 py-2 rounded-full font-bold text-sm",children:"INACTIVE"})}),e.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[e.jsx(i,{to:`/admin/designs/${s._id}/edit`,className:"p-2 bg-white rounded-lg hover:bg-gray-100 transition-colors",title:"Edit",children:e.jsx(D,{className:"text-gray-700"})}),e.jsx("button",{onClick:()=>N(s._id,s.name),className:"p-2 bg-white rounded-lg hover:bg-red-50 transition-colors",title:"Delete",children:e.jsx(k,{className:"text-red-600"})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:s.description||"No description"}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:s.category}),e.jsxs("span",{className:"text-sm font-black text-purple-600",children:["+",s.price," EGP"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Used: ",s.usageCount||0,"x"]}),e.jsxs("span",{children:[((t=s.tags)==null?void 0:t.length)||0," tags"]})]})]})]},s._id)})})]})};export{A as default};
