import{e as w,f as j,r as g,j as e,L as o}from"./react-vendor-fdd07533.js";import{u as y,b as v,l as N,a as k,j as L}from"./index-f5a8800a.js";import{I as x}from"./Input-fc81ecfd.js";import{B}from"./Button-30561157.js";import{ax as E,ay as I,az as h,aw as u}from"./vendor-28c12e7b.js";const q=()=>{const l=y(),n=w(),p=j(),{loading:f,error:c,userInfo:i}=v(s=>s.auth),r=new URLSearchParams(p.search).get("redirect")||"/";g.useEffect(()=>{i&&n(i.isAdmin?"/admin/dashboard":r)},[n,i,r]);const b=async s=>{var d,m;try{const{data:t}=await k.post("/auth/google",{tokenId:s.credential});t.success&&(l(L(t)),u.fire({icon:"success",title:"Welcome!",text:"Logged in successfully with Google",timer:2e3,showConfirmButton:!1}))}catch(t){console.error("Google Login Error",t),u.fire({icon:"error",title:"Login Failed",text:((m=(d=t.response)==null?void 0:d.data)==null?void 0:m.message)||"Could not log in with Google"})}};g.useEffect(()=>{const s=()=>{window.google&&window.google.accounts?(window.google.accounts.id.initialize({client_id:"1003836111670-33sgte6cjc5npj3hk140akl3otk4lubg.apps.googleusercontent.com",callback:b,auto_select:!1,itp_support:!0}),window.google.accounts.id.renderButton(document.getElementById("googleBtn"),{theme:"outline",size:"large",text:"signin_with",shape:"pill",logo_alignment:"left"})):setTimeout(s,500)};s()},[]);const a=E({initialValues:{email:"",password:""},validationSchema:I({email:h().email("Invalid email").required("Required"),password:h().min(6,"Too short").required("Required")}),onSubmit:s=>{l(N(s))}});return e.jsxs("div",{className:"min-h-screen w-full flex bg-white",children:[e.jsxs("div",{className:"hidden lg:flex w-1/2 bg-gray-900 relative overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1487222477894-8943e31ef7b2?q=80&w=1950&auto=format&fit=crop",alt:"Men's Fashion",className:"absolute inset-0 w-full h-full object-cover opacity-80"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-16 flex flex-col justify-end h-full",children:[e.jsxs("h2",{className:"text-4xl font-black font-display text-white mb-6 leading-tight",children:["Redefining ",e.jsx("span",{className:"bg-gradient-to-r from-primary-400 to-purple-400 bg-clip-text text-transparent",children:"Luxury"}),e.jsx("br",{}),"For The Modern Man."]}),e.jsx("p",{className:"text-gray-300 text-lg max-w-md",children:"Join our exclusive community and experience the pinnacle of men's storage and fashion."})]})]}),e.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-primary-50 rounded-full blur-3xl opacity-50 pointer-events-none"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-10 lg:text-left",children:[e.jsxs(o,{to:"/",className:"inline-block text-4xl font-black font-display tracking-tighter text-gray-900 group mb-8",children:["TOPIA",e.jsx("span",{className:"text-primary-600 group-hover:animate-pulse",children:"."})]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-500",children:"Enter your credentials to access your account."})]}),e.jsxs("div",{className:"bg-white p-0 rounded-none shadow-none border-0",children:[c&&e.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-4 rounded-xl text-sm mb-8 flex items-center gap-2",children:["⚠️ ",c]}),e.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-6",children:[e.jsx(x,{label:"Email Address",type:"email",name:"email",placeholder:"name@example.com",value:a.values.email,onChange:a.handleChange,className:"bg-gray-50 border-gray-100 focus:bg-white"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Password"}),e.jsx(o,{to:"/forgot-password","line-index":-1,className:"text-xs font-bold text-primary-600 hover:underline",children:"Forgot Password?"})]}),e.jsx(x,{type:"password",name:"password",placeholder:"••••••••",value:a.values.password,onChange:a.handleChange,className:"bg-gray-50 border-gray-100 focus:bg-white"})]}),e.jsx(B,{type:"submit",fullWidth:!0,isLoading:f,size:"lg",className:"h-14 rounded-xl shadow-xl shadow-primary-900/10 hover:shadow-primary-900/20 text-base font-bold tracking-wide",children:"Sign In"}),e.jsxs("div",{className:"relative my-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-100"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-400 font-bold uppercase tracking-widest text-[10px]",children:"Or continue with"})})]}),e.jsx("div",{id:"googleBtn",className:"min-h-[50px] w-full flex justify-center"})]}),e.jsx("div",{className:"mt-10 text-center lg:text-left",children:e.jsxs("p",{className:"text-gray-500 text-sm font-medium",children:["Don't have an account?"," ",e.jsx(o,{to:r?`/register?redirect=${r}`:"/register",className:"text-primary-900 font-bold hover:text-primary-700 transition-colors",children:"Create an account"})]})})]})]})]})]})};export{q as default};
