import{r as l,j as e,p as u,V as b,aw as S,k as w,B as F,aA as k,S as C,o as E,a1 as z,ax as P}from"./react-vendor-fdd07533.js";import{B as D}from"./Button-30561157.js";import{a as f,L as T}from"./index-f5a8800a.js";import{aw as i}from"./vendor-28c12e7b.js";const G=()=>{const[y,m]=l.useState(!0),[n,x]=l.useState(!1),[s,o]=l.useState({storeName:"Topia Men's Store",supportEmail:"support@topia.com",shippingFee:"50",freeShippingThreshold:"5000",currency:"EGP"}),[p,g]=l.useState(s);l.useEffect(()=>{h()},[]);const h=async()=>{try{m(!0);const{data:r}=await f.get("/settings");if(r.data){const a={...s,...r.data};o(a),g(a)}}catch(r){console.error("Failed to load settings",r),i.fire("Error","Failed to load settings","error")}finally{m(!1)}},t=(r,a)=>{o(c=>({...c,[r]:a}))},j=async r=>{r.preventDefault(),x(!0);try{const a=Object.entries(s).map(([c,v])=>f.post("/settings",{key:c,value:v}));await Promise.all(a),g(s),i.fire({icon:"success",title:"Settings Saved!",text:"Store configuration has been updated successfully.",timer:2e3,showConfirmButton:!1})}catch{i.fire({icon:"error",title:"Save Failed",text:"Could not save settings. Please try again."})}finally{x(!1)}},N=()=>{o(p),i.fire({icon:"info",title:"Changes Discarded",text:"Settings have been reset to last saved values.",timer:1500,showConfirmButton:!1})},d=JSON.stringify(s)!==JSON.stringify(p);return y?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(T,{size:"lg"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"Loading settings..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 p-4 rounded-xl",children:e.jsx(u,{size:32,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Store Settings"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage global store configuration and thresholds"})]})]}),e.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-xl font-bold text-sm transition-all",children:[e.jsx(b,{size:16})," Refresh"]})]}),d&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-xl flex items-center gap-3",children:[e.jsx(u,{className:"text-yellow-600",size:20}),e.jsx("p",{className:"text-yellow-800 font-bold text-sm",children:"You have unsaved changes!"})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-xl",children:e.jsx(S,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-gray-900",children:"General Information"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Basic store details and contact"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(w,{className:"inline mr-2",size:16}),"Store Name"]}),e.jsx("input",{type:"text",value:s.storeName,onChange:r=>t("storeName",r.target.value),placeholder:"Your Store Name",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(F,{className:"inline mr-2",size:16}),"Support Email"]}),e.jsx("input",{type:"email",value:s.supportEmail,onChange:r=>t("supportEmail",r.target.value),placeholder:"support@example.com",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(k,{className:"inline mr-2",size:16}),"Currency"]}),e.jsxs("select",{value:s.currency,onChange:r=>t("currency",r.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-bold text-gray-700",children:[e.jsx("option",{value:"EGP",children:"ðŸ‡ªðŸ‡¬ EGP (Egyptian Pound)"}),e.jsx("option",{value:"USD",children:"ðŸ‡ºðŸ‡¸ USD (US Dollar)"}),e.jsx("option",{value:"EUR",children:"ðŸ‡ªðŸ‡º EUR (Euro)"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-xl",children:e.jsx(C,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-gray-900",children:"Shipping & Delivery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure shipping fees and thresholds"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(E,{className:"inline mr-2",size:16}),"Standard Shipping Fee (",s.currency,")"]}),e.jsx("input",{type:"number",value:s.shippingFee,onChange:r=>t("shippingFee",r.target.value),placeholder:"50",min:"0",step:"0.01",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ðŸ’¡ Cost applied to orders below free shipping threshold"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[e.jsx(z,{className:"inline mr-2",size:16}),"Free Shipping Threshold (",s.currency,")"]}),e.jsx("input",{type:"number",value:s.freeShippingThreshold,onChange:r=>t("freeShippingThreshold",r.target.value),placeholder:"5000",min:"0",step:"0.01",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-primary-100 focus:border-primary-900 outline-none font-medium transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ðŸŽ‰ Orders above this amount qualify for free shipping"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border-2 border-blue-200",children:[e.jsx("p",{className:"font-black text-blue-900 mb-2 text-sm",children:"ðŸ“¦ Shipping Preview:"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-blue-700",children:["â€¢ Orders under ",e.jsxs("span",{className:"font-black",children:[s.freeShippingThreshold," ",s.currency]}),":",e.jsxs("span",{className:"font-black ml-2",children:[s.shippingFee," ",s.currency]})," shipping fee"]}),e.jsxs("p",{className:"text-green-700",children:["â€¢ Orders ",e.jsxs("span",{className:"font-black",children:[s.freeShippingThreshold," ",s.currency]})," or more:",e.jsx("span",{className:"font-black ml-2",children:"FREE shipping"})," ðŸŽ‰"]})]})]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsxs("button",{type:"button",onClick:N,disabled:!d||n,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-black disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(b,{className:"inline mr-2",size:18})," Discard Changes"]}),e.jsx(D,{type:"submit",isLoading:n,disabled:!d,className:"bg-green-600 hover:bg-green-700 text-white font-black px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?e.jsx(e.Fragment,{children:"Saving..."}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"inline mr-2",size:20})," Save Changes"]})})]})})]})]})};export{G as default};
